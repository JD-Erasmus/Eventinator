@model Eventinator.ViewModels.DiscoverViewModel
@{
    ViewData["Title"] = "Discover Events | WatIsGebeur";
}
@* THis is a temp home page hard coded values *@
<!-- Hero -->
<section class="position-relative overflow-hidden">
    <div class="bg-dark text-white">
        <div class="container py-5 py-lg-6">
            <div class="row align-items-center">
                <div class="col-lg-7">
                    <h1 class="display-4 fw-bold lh-sm mb-3">
                        Find your next <span class="text-warning">great event</span>
                    </h1>
                    <p class="lead text-light mb-4">
                        Explore trending meetups, workshops, and festivals near you — or host your own with WatIsGebeur.
                    </p>

                    <form method="get" asp-controller="Events" asp-action="Index" class="row g-2">
                        <div class="col-12 col-md-6">
                            <div class="input-group">
                                <span class="input-group-text border-0"><i class="bi bi-search"></i></span>
                                <input name="q" class="form-control form-control-lg border-0" placeholder="Search for ‘tech’, ‘concert’, ‘workshop’" />
                            </div>
                        </div>
                        <div class="col-12 col-md-4">
                            <div class="input-group">
                                <span class="input-group-text border-0"><i class="bi bi-geo-alt"></i></span>
                                <input name="location" class="form-control form-control-lg border-0" placeholder="Windhoek or Online" />
                            </div>
                        </div>
                        <div class="col-12 col-md-2 d-grid">
                            <button class="btn btn-warning btn-lg fw-semibold" type="submit">
                                Explore
                            </button>
                        </div>
                    </form>

                    <div class="mt-3 d-flex flex-wrap gap-2">
                        @foreach (var cat in Model.PopularCategories)
                        {
                            <a asp-controller="Events" asp-action="Index" asp-route-category="@cat.Slug" class="badge rounded-pill text-bg-light py-2 px-3">
                                <i class="bi bi-hash me-1"></i>@cat.Name
                            </a>
                        }
                    </div>
                </div>
                <div class="col-lg-5 d-none d-lg-block">
                    <div class="ratio ratio-4x3 rounded-4 bg-gradient"
                         style="--bs-bg-opacity:.15;background-image: radial-gradient(1000px 600px at 90% -10%, rgba(255,193,7,.35), transparent 60%), radial-gradient(800px 400px at -10% 110%, rgba(255,255,255,.15), transparent 60%);">
                        <div class="d-flex align-items-center justify-content-center">
                            <div class="text-center">
                                <i class="bi bi-ticket-perforated fs-1 text-warning"></i>
                                <p class="mt-3 mb-0 text-white-50">Create an event in minutes</p>
                                <a asp-controller="Events" asp-action="Create" class="btn btn-outline-light btn-sm mt-2">Host an event</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <svg class="w-100 d-block" style="margin-bottom:-1px" height="24" preserveAspectRatio="none" viewBox="0 0 1200 120">
            <path d="M0,0V46.29c47.79,22.2,103.59,29,158,17.39,70.36-15.37,136-57.32,206.35-73.12C489.69-29.8,574.31,1.06,647,22.19S787.41,79.62,863,92.16c104.74,17.39,199.37-16.17,337-76.27V0Z"
                  fill="#fff"></path>
        </svg>
    </div>
</section>

<!-- Featured Events -->
<section class="py-5">
    <div class="container">
        <div class="d-flex align-items-center justify-content-between mb-3">
            <h2 class="h3 fw-bold mb-0">Featured near you</h2>
            <a asp-controller="Events" asp-action="Index" class="link-secondary">See all</a>
        </div>

        <div class="row g-4">
            @foreach (var e in Model.FeaturedEvents)
            {
                <div class="col-12 col-sm-6 col-lg-4 col-xxl-3">
                    <div class="card h-100 shadow-sm border-0">
                        <a asp-controller="Events" asp-action="Details" asp-route-id="@e.Id" class="text-decoration-none">
                            <div class="ratio ratio-16x9 bg-light rounded-top"
                                 style="background:url('@e.ImageUrl') center/cover no-repeat;"></div>
                        </a>
                        <div class="card-body">
                            <div class="d-flex align-items-center gap-2 small text-muted mb-1">
                                <i class="bi bi-calendar-event"></i>
                                <span>@e.StartLocal.ToString("ddd, dd MMM · HH:mm")</span>
                            </div>
                            <a asp-controller="Events" asp-action="Details" asp-route-id="@e.Id" class="stretched-link text-decoration-none">
                                <h3 class="h6 text-dark fw-semibold mb-2">@e.Title</h3>
                            </a>
                            <div class="small text-muted"><i class="bi bi-geo-alt me-1"></i>@e.Location</div>
                        </div>
                        <div class="card-footer bg-white border-0 pt-0 pb-3">
                            <span class="badge rounded-pill @(e.IsFree ? "text-bg-success" : "text-bg-primary")">
                                @(e.IsFree ? "Free" : e.PriceFromFormatted)
                            </span>
                            @if (e.IsOnline)
                            {
                                <span class="badge rounded-pill text-bg-secondary ms-1">Online</span>
                            }
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</section>

<!-- Tabs -->
<section class="py-5 bg-light">
    <div class="container">
        <ul class="nav nav-pills mb-4" id="discoverTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="weekend-tab" data-bs-toggle="pill" data-bs-target="#weekend" type="button" role="tab">This weekend</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="online-tab" data-bs-toggle="pill" data-bs-target="#online" type="button" role="tab">Online events</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="free-tab" data-bs-toggle="pill" data-bs-target="#free" type="button" role="tab">Free</button>
            </li>
        </ul>

        <div class="tab-content">
            <div class="tab-pane fade show active" id="weekend" role="tabpanel">
                <div class="row g-4">
                    @foreach (var e in Model.WeekendPicks)
                    {
                        <div class="col-12 col-md-6 col-lg-4">
                            <div class="card h-100 border-0 shadow-sm">
                                <div class="card-body">
                                    <div class="small text-muted mb-1">@e.StartLocal.ToString("ddd, dd MMM")</div>
                                    <h3 class="h6 mb-2">@e.Title</h3>
                                    <div class="small text-muted"><i class="bi bi-geo-alt me-1"></i>@e.Location</div>
                                </div>
                                <div class="card-footer bg-white border-0">
                                    <a asp-controller="Events" asp-action="Details" asp-route-id="@e.Id" class="btn btn-outline-primary btn-sm">Details</a>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>

            <div class="tab-pane fade" id="online" role="tabpanel">
                <div class="row g-4">
                    @foreach (var e in Model.OnlinePicks)
                    {
                        <div class="col-12 col-md-6 col-lg-4">
                            <div class="card h-100 border-0 shadow-sm">
                                <div class="card-body">
                                    <span class="badge text-bg-secondary mb-2">Online</span>
                                    <h3 class="h6 mb-2">@e.Title</h3>
                                    <div class="small text-muted">@e.StartLocal.ToString("dd MMM · HH:mm")</div>
                                </div>
                                <div class="card-footer bg-white border-0">
                                    <a asp-controller="Events" asp-action="Details" asp-route-id="@e.Id" class="btn btn-outline-primary btn-sm">Attend</a>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>

            <div class="tab-pane fade" id="free" role="tabpanel">
                <div class="row g-4">
                    @foreach (var e in Model.FreePicks)
                    {
                        <div class="col-12 col-md-6 col-lg-4">
                            <div class="card h-100 border-0 shadow-sm">
                                <div class="card-body">
                                    <span class="badge text-bg-success mb-2">Free</span>
                                    <h3 class="h6 mb-2">@e.Title</h3>
                                    <div class="small text-muted"><i class="bi bi-geo-alt me-1"></i>@e.Location</div>
                                </div>
                                <div class="card-footer bg-white border-0">
                                    <a asp-controller="Events" asp-action="Details" asp-route-id="@e.Id" class="btn btn-outline-primary btn-sm">Register</a>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>

    </div>
</section>

<!-- Cities -->
<section class="py-5">
    <div class="container">
        <div class="d-flex align-items-center justify-content-between mb-3">
            <h2 class="h4 fw-bold mb-0">Trending cities</h2>
            <a asp-controller="Events" asp-action="Index" class="link-secondary">Explore cities</a>
        </div>
        <div class="row g-3">
            @foreach (var c in Model.TrendingCities)
            {
                <div class="col-6 col-md-3 col-lg-2">
                    <a asp-controller="Events" asp-action="Index" asp-route-location="@c.Slug"
                       class="d-block p-3 border rounded-3 text-decoration-none hover-shadow">
                        <div class="fw-semibold text-dark">@c.Name</div>
                        <div class="small text-muted">@c.EventCount @((c.EventCount == 1) ? "event" : "events")</div>
                    </a>
                </div>
            }
        </div>
    </div>
</section>

<!-- Newsletter -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row align-items-center g-3">
            <div class="col-lg-7">
                <h3 class="h4 fw-bold mb-1">Stay in the loop</h3>
                <p class="text-muted mb-0">Get handpicked events every week. No spam — unsubscribe anytime.</p>
            </div>
            <div class="col-lg-5">
                <form class="row g-2 justify-content-lg-end">
                    <div class="col-12 col-sm-8">
                        <input class="form-control form-control-lg" placeholder="you@example.com" />
                    </div>
                    <div class="col-12 col-sm-4 d-grid">
                        <button type="button" class="btn btn-primary btn-lg">Subscribe</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<!-- Host CTA -->
<section class="py-5">
    <div class="container">
        <div class="p-4 p-md-5 rounded-4 border bg-white d-flex flex-column flex-md-row align-items-md-center justify-content-between gap-3">
            <div>
                <h3 class="h4 fw-bold mb-1">Host with WatIsGebeur</h3>
                <p class="text-muted mb-0">Create a stunning event page, manage attendees, and sell tickets securely.</p>
            </div>
            <a asp-controller="Events" asp-action="Create" class="btn btn-dark btn-lg">
                <i class="bi bi-plus-lg me-1"></i>Create an event
            </a>
        </div>
    </div>
</section>
